<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-developers docs-doc-id-v2/EMERGENCY">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="yearn.fi" href="/opensearch.xml">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Emergency Procedures for Yearn Finance | yearn.fi</title><meta data-rh="true" property="og:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.yearn.fi/img/YFILogoGradient.jpg"><meta data-rh="true" property="og:url" content="https://docs.yearn.fi/developers/v2/EMERGENCY"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-rh="true" name="git-url" content="https://github.com/yearn/yearn-devdocs"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-developers-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-developers-current"><meta data-rh="true" property="og:title" content="Emergency Procedures for Yearn Finance | yearn.fi"><meta data-rh="true" name="description" content="TL;DR: Emergency Checklist"><meta data-rh="true" property="og:description" content="TL;DR: Emergency Checklist"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.yearn.fi/developers/v2/EMERGENCY"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/EMERGENCY" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.yearn.fi/developers/v2/EMERGENCY" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31441094.css">
<link rel="preload" href="/assets/js/runtime~main.e0928eb6.js" as="script">
<link rel="preload" href="/assets/js/main.53dba08b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Yearn Finance</b></a><a class="navbar__item navbar__link" href="/getting-started/intro">Introduction</a><a class="navbar__item navbar__link" href="/developers/v3/overview">Develop</a><a class="navbar__item navbar__link" href="/vaults/smart-contracts/BaseStrategy">Smart Contracts</a><a class="navbar__item navbar__link" href="/contributing/contribute">Contribute</a><a class="navbar__item navbar__link" href="/resources/faq">Resources</a><a class="navbar__item navbar__link" href="/security/">Security</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/vaults/smart-contracts/BaseFeeOracle">0.4.6</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/vaults/smart-contracts/BaseFeeOracle">0.4.6</a></li><li><a class="dropdown__link" href="/vaults/0.4.5/smart-contracts/BaseFeeOracle">0.4.5</a></li><li><a class="dropdown__link" href="/vaults/0.4.3/smart-contracts/BaseStrategy">0.4.3</a></li><li><a class="dropdown__link" href="/vaults/0.4.2/getting-started">0.4.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.5/getting-started">0.3.5</a></li><li><a class="dropdown__link" href="/vaults/0.3.4/getting-started">0.3.4</a></li><li><a class="dropdown__link" href="/vaults/0.3.3/getting-started">0.3.3</a></li><li><a class="dropdown__link" href="/vaults/0.3.2/getting-started">0.3.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.1/getting-started">0.3.1</a></li><li><a class="dropdown__link" href="/vaults/0.3.0/getting-started">0.3.0</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_ToTc themedImage--dark_i4oU"><b>Yearn Finance</b></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/developers/v3/overview">yVaults Version 3</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v3/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v3/protocol_fees">Protocol Fees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v3/vault_management">Deploying and Managing a V3 Vault</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v3/strategy_writing_guide">Guide to creating V3 &quot;Tokenized Strategies&quot;</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/developers/v2/getting-started">yVaults Version 2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/getting-started">Getting Started with Vaults and Strategies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/additional-resources">Additional Resources</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/developers/v2/SPECIFICATION">Procedures</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/SPECIFICATION">Yearn System Specification</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/DEPLOYMENT">Deploying a Vault and Strategy V2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/OPERATIONS">Operations procedures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/developers/v2/EMERGENCY">Emergency Procedures for Yearn Finance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/naming-convention">Naming Conventions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/ledger-plugin">Ledger Plugin</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/BaseStrategy">Smart Contracts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/developers/v2/yearn-data">Yearn Data Services</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/yearn-data">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/developers/v2/subgraph-info">Subgraph</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/subgraph-info">Subgraph Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/entities">Subgraph Entities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/queries">Subgraph Queries</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/yearn-lens">Yearn Lens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/yearn-api">Yearn API</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/hacking-with-yearn">Hacking on Yearn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/fork-yearn-ui">Fork Yearn UI: create a customized stablecoins-only vaults website</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/developers/v2/yswaps">ySwaps</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="emergency-procedures-for-yearn-finance">Emergency Procedures for Yearn Finance</h1><h2 id="tldr-emergency-checklist">TL;DR: <a href="#emergency-checklist">Emergency Checklist</a></h2><h2 id="introduction">Introduction</h2><p>This document details the procedures and guidelines that should take place in the event of an emergency situation. Its purpose is to minimize the risk of loss of funds for Yearn&#x27;s users, Treasury, and Smart Contracts.</p><h2 id="definitions-and-examples-of-emergencies">Definitions and Examples of Emergencies</h2><p>For this document, an emergency situation is defined to be:</p><p><strong><em>Any situation that may lead to a considerable amount of loss of funds for Yearn users, Yearn&#x27;s Treasury, or Smart Contracts deployed by Yearn.</em></strong></p><p>This is a non-exhaustive list of possible emergency scenarios:</p><ol><li>Bug/Exploit in Vault/Strategy code that can cause a loss of funds for users</li><li>Bug/Exploit in an underlying protocol that a Yearn Strategy is utilizing that may lead to loss of funds</li><li>Loss of private keys for a key role, such as a Strategist</li><li>Potential exploit discovered by a team or bounty program researcher</li><li>Active exploit/hack in progress discovered by an unknown party</li></ol><h2 id="roles">Roles</h2><p>In the event of an emergency situation, the following roles should be assigned to Yearn contributors working to resolve the situation:</p><ul><li>Facilitator</li><li>Multi-sig Herder</li><li>Strategist Lead</li><li>Core Dev Lead (Guardian)</li><li>Web Lead</li><li>Ops</li></ul><p>A contributor may be assigned up to two of these roles concurrently.</p><h3 id="facilitator">Facilitator</h3><p>Facilitates the emergency handling and ensures the process described in this document is followed, engaging with the correct stakeholders and teams for the necessary decisions to be made quickly. A suitable Facilitator is any person familiar with the process and is confident that they can drive the team to follow through. It&#x27;s expected that the person assigned to this role has relevant experience either from having worked real scenarios or through drill training.</p><h3 id="multi-sig-herder">Multi-sig Herder</h3><p>Responsible for ensuring that different Yearn teams&#x27; Multi-sig wallets (i.e. dev.ychad.eth, brain.ychad.eth, ychad.eth) can execute transactions on time during the emergency.</p><p>Main responsibilities:</p><ul><li>Help clear the queue of any pending operations once the War Room starts</li><li>Coordinate required signers so they can respond quickly to queued transactions</li><li>Prepare or help with transactions in different multi-sigs
Reference:<ul><li><a href="https://github.com/yearn/emergency-toolbox">emergency-toolbox</a></li></ul></li></ul><h3 id="strategist-lead">Strategist Lead</h3><p>In charge of coordinating quick changes to management and strategist roles during the emergency, including but not limited to:</p><ul><li>Prepare and Execute Strategist Multi-sig transactions and operations</li><li>Set strategy in emergency exit mode</li><li>Update debt ratios</li><li>Remove Strategies from Queue</li><li>Coordinate Harvests</li></ul><h3 id="core-dev-lead-guardian">Core Dev Lead (Guardian)</h3><p>Coordinates quick changes to Governance and Guardian roles during the emergency, including but not limited to:</p><ul><li>Prepare and Execute Core Dev Multi-sig transactions and operations</li><li>Revoke a Strategy</li><li>Set vault in emergency shutdown mode</li></ul><h3 id="web-lead">Web Lead</h3><p>Coordinates quick changes to UI and Websites as required, including but not limited to:</p><ul><li>Disable deposits/withdrawals through the UI</li><li>Display alerts and banners</li><li>Other UI-related work</li></ul><h3 id="ops">Ops</h3><p>In charge of coordinating comms and operations assistance as required:</p><ul><li>Clear with War Room what information and communication can be published during and after the incident</li><li>Coordinate Communications</li><li>Take note of timelines and events for disclosure</li></ul><h2 id="emergency-steps">Emergency Steps</h2><p><em>Also see <a href="#Emergency-checklist">Check list</a> and <a href="#tools">Tools</a>.</em></p><p>This acts as a guideline to follow when an incident is reported requiring immediate attention.</p><p>The primary objective is to minimize the loss of funds, in particular for Yearn&#x27;s users. All decisions made should be driven by this goal.</p><ol><li>Open a private chat room (War Room) with a voice channel and invite only the team members that are online that can cover the <a href="#Roles">roles described above</a>. The War Room is limited to members that act in the capacities of the designated roles, as well as additional persons that can provide critical insight into the circumstances of the issue and how it can best be resolved.</li><li>All the information that is gathered during the War Room should be considered private to the chat and not to be shared with third parties. Relevant data should be pinned and updated by the Facilitator for the team to have handy.</li><li>The team&#x27;s first milestone is to assess the situation as quickly as possible: Confirming the reported information and determining how critical the incident is. A few questions to guide this process:<ul><li>Is there confirmation from several team members/sources that the issue is valid? Are there example transactions that show the incident occurring? (Pin these in the War Room)</li><li>Is the Strategist that knows the most about the code in the War Room? Can the Strategist in question be reached? If not, can we reach the backup Strategist?</li><li>Are funds presently at risk? Is immediate action required?</li><li>Is the issue isolated or does it affect several vaults/strategies? Can the affected contracts be identified? (Pin these in the War Room)</li><li>Which Multi-sig will require signing to address the issue? The Multi-sig Herder should begin to notify signers and clear the queue in preparation for emergency transactions.</li><li>If there is no immediate risk of loss of funds, does the team still need to take preventive action or some other mitigation?</li><li>Is there agreement in the team that the situation is under control and that the War Room can be closed?</li></ul></li><li>Once the issue has been confirmed as valid, the next step is to take immediate corrective action to prevent further loss of funds. If the root cause requires further research, the team must err on the side of caution and take emergency preventive actions while the situation continues to be assessed. A few questions to guide the decisions of the team:<ul><li>Disable deposits to the affected Vaults? Should migrations and deposits be removed from the UI?</li><li>Activate Emergency Exit on the affected Strategies?</li><li>Remove one or more strategies from the withdrawal queue from the affected vaults?</li><li>Activate Emergency Shutdown in the Vault?</li><li>Revoke 1 or more Strategies?</li><li>Are multiple Team members able to confirm the corrective actions will stop the immediate risk through local Ganache fork testing? Strategist and Core Dev main roles in particular to confirm this step.</li></ul></li><li>The immediate corrective actions should be scripted or taken from the repository <a href="https://github.com/yearn/emergency-toolbox">emergency-toolbox</a> and executed ASAP. Multi-sig Herder and Strategist Lead should coordinate this execution within the corresponding roles. <strong>NOTE: This step is meant to give the War Room time to assess and research a more long-term solution</strong>.</li><li>Once corrective measures are in place and there is confirmation by multiple sources that funds are no longer at risk, the next objective is to identify the root cause. A few questions/actions during this step that can help the team make decisions:<ul><li>What communications should be made public at this point?</li><li>Can research among members of the War Room be divided? This step can be open for team members to do live debug sessions sharing screens to help identify the problem using the sample transactions.</li></ul></li><li>Once the cause is identified, the team can brainstorm to come up with the most suitable remediation plan and its code implementation (if required). A few questions that can help during this time:<ul><li>In case there are many possible solutions can the team prioritize by weighing each option by time to implement and minimization of losses?</li><li>Can the possible solutions be tested and compared to confirm the end state fixes the issue?</li><li>Is there agreement in the War Room about the best solution? If not, can the objections be identified and a path for how to reach consensus on the approach be worked out, prioritizing the minimization of losses?</li><li>If a solution will take longer than a few hours, are there any further communications and preventive actions needed while the fix is developed?</li><li>Does the solution require a longer-term plan? Are there identified owners for the tasks/steps for the plan&#x27;s execution?</li></ul></li><li>Once a solution has been implemented, the team will confirm the solution resolves the issue and minimizes the loss of funds. Possible actions needed during this step:<ul><li>Run in ganache fork simulations of end state to confirm the proposed solution(s)</li><li>Coordinate signatures from multi-sig signers and execution</li><li>Enable UI changes to normalize operations as needed</li></ul></li><li>Assign a lead to prepare a <a href="https://github.com/yearn/yearn-security">disclosure</a> (should it be required), preparing a timeline of the events that took place.</li><li>The team agrees when the War Room can be dismantled. The Facilitator breaks down the War Room and sets reminders if it takes longer than a few hours for members to reconvene.</li></ol><h3 id="emergency-checklist">Emergency Checklist</h3><p>This checklist should be complemented with the <a href="#emergency-steps">steps</a></p><ul class="contains-task-list"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create War room with audio</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Assign Key Roles to War Room members</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Add Strategist or other Expert (or their backup) to the War Room</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Clear related Multi-sig queues</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Disable deposits and/or withdrawals as needed in the web UI</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->If share price has been artificially lowered, then call <code>vault.setDepositLimit(0)</code> from governance</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Confirm and identify Issue</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Take immediate corrective/preventive actions to prevent (further) loss of funds</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Communicate the current situation internally and externally (as appropriate)</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Determine the root cause</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Propose workable solutions</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Implement and validate solutions</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Prioritize solutions</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Reach agreement in Team on best solution</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Execute solution</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Confirm incident has been resolved</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Assign ownership of security disclosure report</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Disband War Room</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Conduct immediate debrief</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Schedule a Post Mortem</li></ul><h3 id="tools">Tools</h3><p>List of tools and alternatives in case primary tools are not available during an incident.</p><table><thead><tr><th>Description</th><th>Primary</th><th align="center">Secondary</th></tr></thead><tbody><tr><td>Code Sharing</td><td>Github</td><td align="center"><a href="https://hackmd.io/">HackMd</a>, <a href="https://codeshare.io/">CodeShare</a></td></tr><tr><td>Communications<!-- -->*</td><td>Telegram</td><td align="center">Discord</td></tr><tr><td>Transaction Details</td><td><a href="https://etherscan.io/">Etherscan</a></td><td align="center"><a href="https://ethtx.info/">EthTxInfo</a></td></tr><tr><td>Debugging</td><td>Brownie</td><td align="center"><a href="https://tenderly.co/">Tenderly</a></td></tr><tr><td>Transaction Builder</td><td><a href="https://github.com/banteg/ape-safe">ape-safe</a></td><td align="center"><em>Backup if gnosis safe Api is not working?</em></td></tr><tr><td>Screen Sharing<!-- -->*</td><td><a href="https://jitsi.org/">jitsi</a></td><td align="center">Google Hangouts</td></tr></tbody></table><p><strong>Facilitator is responsible to ensure no unauthorized persons enter the War Room or join these tools via invite links that leak.</strong></p><h2 id="incident-post-mortem">Incident Post Mortem</h2><p>A Post Mortem should be conducted after an incident to gather data and feedback from War Room participants in order to produce actionable improvements for Yearn processes such as this one.</p><p>Following the dissolution of a War Room, the Facilitator should ideally conduct an immediate informal debrief to gather initial notes before they are forgotten by participants.</p><p>This can then be complemented by a more extensive Post Mortem as outlined below.</p><p>The Post Mortem should be conducted at most a week following the incident to ensure a fresh recollection by the participants.</p><p>It is key that most of the participants of the War Room are involved during this session for an accurate assessment of the events that took place. Discussion is encouraged. The objective is to collect constructive feedback on how the process can be improved, <strong>and not</strong> to assign blame to any War Room participants.</p><p>Participants are encouraged to provide input on each of the steps. If a participant is not giving input, the Facilitator is expected to try to obtain more feedback by asking questions.</p><h3 id="post-mortem-outputs">Post Mortem Outputs</h3><ul><li>List of what went well</li><li>List of what be improved</li><li>List of questions that came up in the Post Mortem</li><li>List of insights from the process</li><li>Root Cause Analysis along with concrete measures required to prevent the incident from ever happening again.</li><li>List of action items assigned to owners with estimates for completion.</li></ul><h3 id="post-mortem-steps">Post Mortem Steps</h3><ol><li>Facilitator runs the session in a voice channel and shares a screen for participants to follow notes.</li><li>Facilitator runs through an agenda to obtain the necessary <a href="#post-mortem-outputs">outputs</a>.</li><li>For the Root Cause Analysis part, the Facilitator conducts an exercise to write the problem statement first and then confirm with the participants that the statement is correct and understood.</li><li>Root Cause Analysis can be identified with the following tools:<ul><li><a href="https://en.wikipedia.org/wiki/Brainstorming">Brainstorming</a> session with participants</li><li><a href="https://en.wikipedia.org/wiki/Five_whys">5 Whys Technique</a></li></ul></li><li>Once Root Causes have been identified, action items can be written and assigned to willing participants that can own the tasks. It is recommended that an estimated time for completion is given. A later process can track completion of given assignments. <strong>Note: The action items need to be clear, actionable and measurable for completion</strong></li><li>The Facilitator tracks completion of action items. The end result of the process should be an actionable improvement in the process. Some possible improvements:<ul><li>Changes in the process and documentation</li><li>Changes in code and tests to validate</li><li>Changes in tools implemented and incorporated into the process</li></ul></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-10-05T13:34:03.000Z">10/5/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/developers/v2/OPERATIONS"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Operations procedures</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/developers/v2/naming-convention"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Naming Conventions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tldr-emergency-checklist" class="table-of-contents__link toc-highlight">TL;DR: Emergency Checklist</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#definitions-and-examples-of-emergencies" class="table-of-contents__link toc-highlight">Definitions and Examples of Emergencies</a></li><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a><ul><li><a href="#facilitator" class="table-of-contents__link toc-highlight">Facilitator</a></li><li><a href="#multi-sig-herder" class="table-of-contents__link toc-highlight">Multi-sig Herder</a></li><li><a href="#strategist-lead" class="table-of-contents__link toc-highlight">Strategist Lead</a></li><li><a href="#core-dev-lead-guardian" class="table-of-contents__link toc-highlight">Core Dev Lead (Guardian)</a></li><li><a href="#web-lead" class="table-of-contents__link toc-highlight">Web Lead</a></li><li><a href="#ops" class="table-of-contents__link toc-highlight">Ops</a></li></ul></li><li><a href="#emergency-steps" class="table-of-contents__link toc-highlight">Emergency Steps</a><ul><li><a href="#emergency-checklist" class="table-of-contents__link toc-highlight">Emergency Checklist</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li></ul></li><li><a href="#incident-post-mortem" class="table-of-contents__link toc-highlight">Incident Post Mortem</a><ul><li><a href="#post-mortem-outputs" class="table-of-contents__link toc-highlight">Post Mortem Outputs</a></li><li><a href="#post-mortem-steps" class="table-of-contents__link toc-highlight">Post Mortem Steps</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/yearn/yearn-vaults-v3" target="_blank" rel="noopener noreferrer" class="footer__link-item">V3 Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/tokenized-strategy" target="_blank" rel="noopener noreferrer" class="footer__link-item">V3 Tokenized Strategy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/tokenized-strategy-foundry-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item">V3 Strategy Mix: Foundry<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/tokenized-strategy-ape-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item">V3 Strategy Mix: Ape<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item">V2 Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/brownie-strategy-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item">V2 Strategy Mix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-security" target="_blank" rel="noopener noreferrer" class="footer__link-item">yearn-security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-devdocs" target="_blank" rel="noopener noreferrer" class="footer__link-item">yearn-devdocs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://yearn.fi/v3" target="_blank" rel="noopener noreferrer" class="footer__link-item">V3 Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://yearn.fi/vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item">V2 Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juiced.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Juiced Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://veyfi.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">veYFI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://yeth.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">yETH<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ycrv.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">yCRV<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://yprisma.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">yPrisma<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ybribe.yearn.fi/" target="_blank" rel="noopener noreferrer" class="footer__link-item">yBribe<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/yearnfi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gov.yearn.fi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://snapshot.org/#/veyfi.eth" target="_blank" rel="noopener noreferrer" class="footer__link-item">Snapshot Voting<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.e0928eb6.js"></script>
<script src="/assets/js/main.53dba08b.js"></script>
</body>
</html>