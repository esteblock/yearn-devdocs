"use strict";(self.webpackChunkyearn_devdocs=self.webpackChunkyearn_devdocs||[]).push([[2894],{3905:(e,t,r)=>{r.d(t,{kt:()=>c});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),p=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(r),h=n,m=c["".concat(l,".").concat(h)]||c[h]||u[h]||o;return r?a.createElement(m,i(i({ref:t},d),{},{components:r})):a.createElement(m,i({ref:t},d))}));function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=r[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},5480:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var a=r(7462),n=(r(7294),r(3905));const o={title:"Integration Methods"},i=void 0,s={unversionedId:"integration_guide",id:"integration_guide",title:"Integration Methods",description:"Yearn offers two different types of integration: Wrapper and Delegated Deposit. Each method has its unique advantages and disadvantages, so it is essential to consider the requirements of your specific use case when selecting one below. We are always open to new suggestions on how you can integrate with us!",source:"@site/docs/partners/integration_guide.md",sourceDirName:".",slug:"/integration_guide",permalink:"/partners/integration_guide",draft:!1,tags:[],version:"current",lastUpdatedAt:1674575121,formattedLastUpdatedAt:"1/24/2023",frontMatter:{title:"Integration Methods"},sidebar:"mySidebar",previous:{title:"Partnership Program",permalink:"/partners/introduction"},next:{title:"Yearn's Partner Tracker",permalink:"/partners/partner-tracker"}},l={},p=[{value:"Wrapper",id:"wrapper",level:2},{value:"Delegated Deposit",id:"delegated-deposit",level:2}],u={toc:p};function d(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Yearn offers two different types of integration: Wrapper and Delegated Deposit. Each method has its unique advantages and disadvantages, so it is essential to consider the requirements of your specific use case when selecting one below. ",(0,n.kt)("em",{parentName:"p"},"We are always open to new suggestions on how you can integrate with us!")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Wrapper"),(0,n.kt)("th",{parentName:"tr",align:null},"Delegated Deposit"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Custodial, with yvTokens inside the wrapper contract"),(0,n.kt)("td",{parentName:"tr",align:null},"Non-custodial, with tokens sent to Yearn\u2019s contracts")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"The user receives a custom token, with the ability to only use the partner\u2019s contract to deposit, withdraw, etc"),(0,n.kt)("td",{parentName:"tr",align:null},"The user receives standard yvTokens, and can use Yearn\u2019s website to interact with their funds")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Allows for custom integrations with complex logic"),(0,n.kt)("td",{parentName:"tr",align:null},"Designed for UIs, wallets, and other more straightforward integrations")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Since tokens are held in the contract, we can track the balance at any given time"),(0,n.kt)("td",{parentName:"tr",align:null},"The TVL is attributed until the user transfers the tokens to another address or they are used in a DeFi protocol")))),(0,n.kt)("h2",{id:"wrapper"},"Wrapper"),(0,n.kt)("p",null,"Partners deploy the Wrapper contract for each vault utilized. "),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"User deposits into partner Wrapper"),(0,n.kt)("li",{parentName:"ol"},"Wrapper deposits into Yearn Vault"),(0,n.kt)("li",{parentName:"ol"},"Vault issues vault tokens to Wrapper"),(0,n.kt)("li",{parentName:"ol"},"Wrapper issues wrapper tokens to User")),(0,n.kt)("p",null,"Implications:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Contributed TVLs are easily tracked with precision"),(0,n.kt)("li",{parentName:"ul"},"Vault tokens are not fungible with other partner tokens or with Yearn's vanilla vault tokens"),(0,n.kt)("li",{parentName:"ul"},"Each vault requires its own wrapper"),(0,n.kt)("li",{parentName:"ul"},"Solution and testing are comparatively complex")),(0,n.kt)("h2",{id:"delegated-deposit"},"Delegated Deposit"),(0,n.kt)("p",null,"Partners deploy a routing contract for each vault utilized."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"User deposits to the routing contract"),(0,n.kt)("li",{parentName:"ol"},"Routing contract routes the deposit into the Yearn Vault"),(0,n.kt)("li",{parentName:"ol"},"Vault issues vault tokens to the User")),(0,n.kt)("p",null,"The v2 vault's deposit() function has a recipient parameter that defaults to msg.sender, but can also take any other address, effectively allowing a contract or EOA to delegate a deposit on behalf of another intended recipient. You can see the function #24 ",(0,n.kt)("a",{parentName:"p",href:"https://etherscan.io/address/0x19D3364A399d251E894aC732651be8B0E4e85001#writeContract"},"here"),"."),(0,n.kt)("p",null,"If funds are deposited using this delegated method from an address already known to Yearn, the TVL can be attributed to the address and profit will be shared based on that data. "),(0,n.kt)("p",null,"A single routing contract can handle multiple vaults, but can also be deployed on a per vault basis. The design is very flexible as long as a defined set of addresses is provided to keep track of the partner's contributed TVL."),(0,n.kt)("p",null,"Users will need to keep the issued vault token in the recipient address for TVL to be tracked. Tokens tend to stay in the end user's wallet, but this is an obvious tradeoff vs using the partner Wrapper. "),(0,n.kt)("p",null,"Implications:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"User gets credited regular vanilla yearn vault tokens for a better user experience"),(0,n.kt)("li",{parentName:"ul"},"Loss of TVL attributed if users transfer the vault tokens"),(0,n.kt)("li",{parentName:"ul"},"Simpler implementation and testing")),(0,n.kt)("p",null,"See an example implementation of Delegated Deposit that can be used without deploying your own contract at ",(0,n.kt)("a",{parentName:"p",href:"https://docs.yearn.finance/partners/partner-tracker"},"Yearn's Partner Tracker"),"."))}d.isMDXComponent=!0}}]);