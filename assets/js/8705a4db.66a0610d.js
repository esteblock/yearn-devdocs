"use strict";(self.webpackChunkyearn_devdocs=self.webpackChunkyearn_devdocs||[]).push([[2741],{3905:(e,t,a)=>{a.d(t,{kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),h=c(a),d=n,m=h["".concat(s,".").concat(d)]||h[d]||p[d]||l;return a?r.createElement(m,i(i({ref:t},u),{},{components:a})):r.createElement(m,i({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var c=2;c<l;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5468:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var r=a(7462),n=(a(7294),a(3905));const l={},i="yvToken as Collateral",o={unversionedId:"yvtokens-as-collateral",id:"yvtokens-as-collateral",title:"yvToken as Collateral",description:"Overview of Yearn Vaults as Collateral",source:"@site/docs/partners/yvtokens-as-collateral.md",sourceDirName:".",slug:"/yvtokens-as-collateral",permalink:"/partners/yvtokens-as-collateral",draft:!1,tags:[],version:"current",lastUpdatedAt:1693865708,formattedLastUpdatedAt:"9/4/2023",frontMatter:{},sidebar:"mySidebar",previous:{title:"Submit a Pull Request",permalink:"/partners/submit_pr"}},s={},c=[{value:"Overview of Yearn Vaults as Collateral",id:"overview-of-yearn-vaults-as-collateral",level:2},{value:"Why Use yvTokens as Collateral?",id:"why-use-yvtokens-as-collateral",level:2},{value:"They\u2019re Yield Generating",id:"theyre-yield-generating",level:3},{value:"The Safest Yields in DeFi",id:"the-safest-yields-in-defi",level:3},{value:"Split Fees with Yearn",id:"split-fees-with-yearn",level:3},{value:"They\u2019re ERC20 Compatible",id:"theyre-erc20-compatible",level:3},{value:"They\u2019re Almost 100% Liquid",id:"theyre-almost-100-liquid",level:3},{value:"They\u2019re Transparent",id:"theyre-transparent",level:3},{value:"Projects Using yvTokens as Collateral",id:"projects-using-yvtokens-as-collateral",level:2},{value:"Hacks History",id:"hacks-history",level:2},{value:"Oracle Safety and PricePerShare Calculations",id:"oracle-safety-and-pricepershare-calculations",level:2},{value:"Recommendations",id:"recommendations",level:2},{value:"Vault Tokens with API Version &lt;= v0.4.3",id:"vault-tokens-with-api-version--v043",level:3},{value:"Vault Tokens with API Version &gt;= v0.4.4",id:"vault-tokens-with-api-version--v044",level:3}],p={toc:c};function u(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"yvtoken-as-collateral"},"yvToken as Collateral"),(0,n.kt)("h2",{id:"overview-of-yearn-vaults-as-collateral"},"Overview of Yearn Vaults as Collateral"),(0,n.kt)("p",null,"Yearn vault tokens are yield-generating wrappers around underlying assets.\nIdeally, they are a great way to hold collateral because they are secure and grow in value over time rather than remaining as idle capital."),(0,n.kt)("p",null,"However, there are some risks to consider with some implementations of Yearn vaults before onboarding them as a collateral type in lending markets."),(0,n.kt)("p",null,"Aside from obvious risks involved with smart contracts (including the vault contract itself, it\u2019s strategies, and protocols farmed by the strategy), lending protocols should also study the risks involved with how a vault\u2019s pricePerShare is calculated, as this function is important in computing the vault token\u2019s value."),(0,n.kt)("h2",{id:"why-use-yvtokens-as-collateral"},"Why Use yvTokens as Collateral?"),(0,n.kt)("h3",{id:"theyre-yield-generating"},"They\u2019re Yield Generating"),(0,n.kt)("p",null,"A Yearn Vault token is a yield-bearing version of a token, so when locked up as collateral it will still generate yield. A single vault token can run up to 20 yield-generating strategies. All Vaults at ",(0,n.kt)("a",{parentName:"p",href:"https://yearn.fi/#/vaults"},"yearn.fi"),' run "up-only" strategies.'),(0,n.kt)("h3",{id:"the-safest-yields-in-defi"},"The Safest Yields in DeFi"),(0,n.kt)("p",null,"Vaults strategies are constantly audited to practice the highest security standards of DeFi. Grow with us one day at a time. More information at:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.yearn.fi/developers/v2/DEPLOYMENT"},"Vaults & Strategies Deployment Security Guidelines")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://messari.io/article/yearning-for-yearn"},"Yearning for Yearn: Messari Report")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/yearn/yearn-security/blob/master/SECURITY.md"},"Yearn Security Processes"))),(0,n.kt)("h3",{id:"split-fees-with-yearn"},"Split Fees with Yearn"),(0,n.kt)("p",null,"Yearn's fee-sharing partner ",(0,n.kt)("a",{parentName:"p",href:"https://docs.yearn.fi/partners/introduction"},"program")," allows you to earn up to 50% of the fees generated on your users' TVL every month. We are in this together."),(0,n.kt)("h3",{id:"theyre-erc20-compatible"},"They\u2019re ERC20 Compatible"),(0,n.kt)("p",null,"yvTokens are ",(0,n.kt)("a",{parentName:"p",href:"https://ethereum.org/en/developers/docs/standards/tokens/erc-20/"},"ERC-20")," compatible (like any other commonly expected token), there is no code security overhead for developers to implement any yvToken as a new option for collateral"),(0,n.kt)("h3",{id:"theyre-almost-100-liquid"},"They\u2019re Almost 100% Liquid"),(0,n.kt)("p",null,"Strategies that lock tokens are kept to an absolute minimum amount of time. To learn more about strategy and fund allocation visit ",(0,n.kt)("a",{parentName:"p",href:"https://yearn.watch/"},"yearn.watch")," for a look into what's going on right now."),(0,n.kt)("h3",{id:"theyre-transparent"},"They\u2019re Transparent"),(0,n.kt)("p",null,"What you see on-chain is what you get. For real-time protocol data see:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://vaults.yearn.fi/"},"yearn vaults descriptions")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://yearn.watch/"},"yearn.watch")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://yearn.vision/"},"yearn.vision")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://dune.com/projects/yearn"},"yearn at dune analytics")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://medium.com/iearn/diving-into-yearn-metrics-8c3fb0520927"},"diving into yearn metrics"))),(0,n.kt)("h2",{id:"projects-using-yvtokens-as-collateral"},"Projects Using yvTokens as Collateral"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Alchemix: ",(0,n.kt)("a",{parentName:"li",href:"https://alchemix.fi/"},"https://alchemix.fi/")),(0,n.kt)("li",{parentName:"ul"},"Abracadabra: ",(0,n.kt)("a",{parentName:"li",href:"https://abracadabra.money/"},"https://abracadabra.money/")),(0,n.kt)("li",{parentName:"ul"},"Element: ",(0,n.kt)("a",{parentName:"li",href:"https://www.element.fi/"},"https://www.element.fi/")),(0,n.kt)("li",{parentName:"ul"},"Gearbox: ",(0,n.kt)("a",{parentName:"li",href:"https://gearbox.fi/"},"https://gearbox.fi/")),(0,n.kt)("li",{parentName:"ul"},"QiDao: ",(0,n.kt)("a",{parentName:"li",href:"https://app.mai.finance/"},"https://app.mai.finance/")),(0,n.kt)("li",{parentName:"ul"},"Ribbon: ",(0,n.kt)("a",{parentName:"li",href:"https://www.ribbon.finance/"},"https://www.ribbon.finance/")),(0,n.kt)("li",{parentName:"ul"},"Sturdy: ",(0,n.kt)("a",{parentName:"li",href:"https://sturdy.finance/"},"https://sturdy.finance/")),(0,n.kt)("li",{parentName:"ul"},"Tempus: ",(0,n.kt)("a",{parentName:"li",href:"https://tempus.finance/"},"https://tempus.finance/"))),(0,n.kt)("p",null,"To learn more reach out through ",(0,n.kt)("a",{parentName:"p",href:"https://yearnfinance.typeform.com/to/uP7xOJUN"},"https://yearnfinance.typeform.com/to/uP7xOJUN")),(0,n.kt)("h2",{id:"hacks-history"},"Hacks History"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/yearn/yearn-security/blob/master/disclosures/2021-10-27.md"},"CREAM hack in 2021")," proved that without proper care, an attacker could trick the lending market into thinking they have a far larger position than reality. This led to a tragic $130M loss for the protocol. Technical reference: ",(0,n.kt)("a",{parentName:"p",href:"https://mudit.blog/cream-hack-analysis/"},"https://mudit.blog/cream-hack-analysis/")),(0,n.kt)("h2",{id:"oracle-safety-and-pricepershare-calculations"},"Oracle Safety and PricePerShare Calculations"),(0,n.kt)("p",null,"Critical to the hack cited above is the ability of an attacker to affect pricePerShare by transferring the vaults\u2019 underlying token directly to the vault contract."),(0,n.kt)("p",null,"While this does not affect the accuracy/reliability of the vault token pricing, it can be used by an attacker to trick a lending market while leveraging up their position."),(0,n.kt)("p",null,"Beginning in API version 0.4.4, Yearn vaults introduced a feature called \u201cAirdrop Protection\u201d, which prevents pricePerShare changes when tokens are transferred directly to the vault contract."),(0,n.kt)("h2",{id:"recommendations"},"Recommendations"),(0,n.kt)("h3",{id:"vault-tokens-with-api-version--v043"},"Vault Tokens with API Version <= v0.4.3"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Not recommended for protocols without isolated lending markets and configurable borrow limits"),(0,n.kt)("li",{parentName:"ul"},"Not recommended for vaults with low TVL")),(0,n.kt)("h3",{id:"vault-tokens-with-api-version--v044"},"Vault Tokens with API Version >= v0.4.4"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"There are no known ways for a public user to manipulate pricePerShare, and therefore v0.4.4+ is determined to be a much safer collateral type for all types of markets.")))}u.isMDXComponent=!0}}]);