"use strict";(self.webpackChunkyearn_devdocs=self.webpackChunkyearn_devdocs||[]).push([[344],{3905:(e,t,a)=>{a.d(t,{kt:()=>u});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),d=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=d(a),m=r,k=u["".concat(i,".").concat(m)]||u[m]||p[m]||l;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=c;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var d=2;d<l;d++)o[d]=a[d];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},6297:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var n=a(7462),r=(a(7294),a(3905));const l={},o=void 0,s={unversionedId:"smart-contracts/BaseFeeOracle",id:"version-0.4.6/smart-contracts/BaseFeeOracle",title:"BaseFeeOracle",description:"Interprets the base fee from our base fee provider",source:"@site/versioned_docs/version-0.4.6/smart-contracts/BaseFeeOracle.md",sourceDirName:"smart-contracts",slug:"/smart-contracts/BaseFeeOracle",permalink:"/vaults/smart-contracts/BaseFeeOracle",draft:!1,editUrl:"https://github.com/yearn/yearn-devdocs/edit/master/website/versioned_docs/version-0.4.6/smart-contracts/BaseFeeOracle.md",tags:[],version:"0.4.6",frontMatter:{},sidebar:"mySidebar",next:{title:"BaseStrategy",permalink:"/vaults/smart-contracts/BaseStrategy"}},i={},d=[{value:"Functions",id:"functions",level:2},{value:"constructor",id:"constructor",level:3},{value:"isCurrentBaseFeeAcceptable",id:"iscurrentbasefeeacceptable",level:3},{value:"setMaxAcceptableBaseFee",id:"setmaxacceptablebasefee",level:3},{value:"Parameters:",id:"parameters",level:4},{value:"setManualBaseFeeBool",id:"setmanualbasefeebool",level:3},{value:"Parameters:",id:"parameters-1",level:4},{value:"setAuthorized",id:"setauthorized",level:3},{value:"Parameters:",id:"parameters-2",level:4},{value:"setPendingGovernance",id:"setpendinggovernance",level:3},{value:"Parameters:",id:"parameters-3",level:4},{value:"acceptGovernance",id:"acceptgovernance",level:3},{value:"setBaseFeeProvider",id:"setbasefeeprovider",level:3},{value:"Parameters:",id:"parameters-4",level:4},{value:"_onlyAuthorized",id:"_onlyauthorized",level:3},{value:"_onlyGovernance",id:"_onlygovernance",level:3},{value:"Events",id:"events",level:2},{value:"NewGovernance",id:"newgovernance",level:3},{value:"NewProvider",id:"newprovider",level:3},{value:"UpdatedMaxBaseFee",id:"updatedmaxbasefee",level:3},{value:"UpdatedManualBaseFee",id:"updatedmanualbasefee",level:3},{value:"UpdatedAuthorization",id:"updatedauthorization",level:3}],p={toc:d};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Interprets the base fee from our base fee provider\ncontract to determine if a harvest is permissable."),(0,r.kt)("p",null,"Version 0.1.0"),(0,r.kt)("h2",{id:"functions"},"Functions"),(0,r.kt)("h3",{id:"constructor"},"constructor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function constructor(\n  ) public\n")),(0,r.kt)("p",null,"Use this if our network hasn't implemented the base fee method yet"),(0,r.kt)("h3",{id:"iscurrentbasefeeacceptable"},"isCurrentBaseFeeAcceptable"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function isCurrentBaseFeeAcceptable(\n  ) public returns (bool)\n")),(0,r.kt)("p",null,"Returns whether we should allow harvests based on current base fee."),(0,r.kt)("h3",{id:"setmaxacceptablebasefee"},"setMaxAcceptableBaseFee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function setMaxAcceptableBaseFee(\n    uint256 _maxAcceptableBaseFee\n  ) external\n")),(0,r.kt)("p",null,"Set the maximum base fee we want for our keepers to accept.\nGwei is 1e9."),(0,r.kt)("p",null,"Throws if the caller is not authorized or gov."),(0,r.kt)("h4",{id:"parameters"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_maxAcceptableBaseFee")),(0,r.kt)("td",{parentName:"tr",align:"left"},"uint256"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The acceptable maximum price to pay in wei.")))),(0,r.kt)("h3",{id:"setmanualbasefeebool"},"setManualBaseFeeBool"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function setManualBaseFeeBool(\n    bool _manualBaseFeeBool\n  ) external\n")),(0,r.kt)("p",null,"If we don't have a provider, then manually determine if true or not.\nUseful in testing as well."),(0,r.kt)("p",null,"Throws if the caller is not authorized or gov."),(0,r.kt)("h4",{id:"parameters-1"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_manualBaseFeeBool")),(0,r.kt)("td",{parentName:"tr",align:"left"},"bool"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean to allow/block harvests if we don't")))),(0,r.kt)("p",null," have a provider set up."),(0,r.kt)("h3",{id:"setauthorized"},"setAuthorized"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function setAuthorized(\n    address _target,\n    bool _value\n  ) external\n")),(0,r.kt)("p",null,"Controls whether a non-gov address can adjust certain params."),(0,r.kt)("p",null,"Throws if the caller is not current governance."),(0,r.kt)("h4",{id:"parameters-2"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_target")),(0,r.kt)("td",{parentName:"tr",align:"left"},"address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The address to add/remove authorization for.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_value")),(0,r.kt)("td",{parentName:"tr",align:"left"},"bool"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Boolean to grant or revoke access.")))),(0,r.kt)("h3",{id:"setpendinggovernance"},"setPendingGovernance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function setPendingGovernance(\n    address _governance\n  ) external\n")),(0,r.kt)("p",null,"Starts the 1st phase of the governance transfer."),(0,r.kt)("p",null,"Throws if the caller is not current governance."),(0,r.kt)("h4",{id:"parameters-3"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_governance")),(0,r.kt)("td",{parentName:"tr",align:"left"},"address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The next governance address")))),(0,r.kt)("h3",{id:"acceptgovernance"},"acceptGovernance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function acceptGovernance(\n  ) external\n")),(0,r.kt)("p",null,"Completes the 2nd phase of the governance transfer."),(0,r.kt)("p",null,"Throws if the caller is not the pending caller.\nEmits a ",(0,r.kt)("inlineCode",{parentName:"p"},"NewGovernance")," event."),(0,r.kt)("h3",{id:"setbasefeeprovider"},"setBaseFeeProvider"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function setBaseFeeProvider(\n    address _baseFeeProvider\n  ) external\n")),(0,r.kt)("p",null,"Sets the address used to pull the current network base fee."),(0,r.kt)("p",null,"Throws if the caller is not current governance."),(0,r.kt)("h4",{id:"parameters-4"},"Parameters:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"_baseFeeProvider")),(0,r.kt)("td",{parentName:"tr",align:"left"},"address"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The network's baseFeeProvider address")))),(0,r.kt)("h3",{id:"_onlyauthorized"},"_onlyAuthorized"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function _onlyAuthorized(\n  ) internal\n")),(0,r.kt)("h3",{id:"_onlygovernance"},"_onlyGovernance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  function _onlyGovernance(\n  ) internal\n")),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("h3",{id:"newgovernance"},"NewGovernance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  event NewGovernance(\n  )\n")),(0,r.kt)("h3",{id:"newprovider"},"NewProvider"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  event NewProvider(\n  )\n")),(0,r.kt)("h3",{id:"updatedmaxbasefee"},"UpdatedMaxBaseFee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  event UpdatedMaxBaseFee(\n  )\n")),(0,r.kt)("h3",{id:"updatedmanualbasefee"},"UpdatedManualBaseFee"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  event UpdatedManualBaseFee(\n  )\n")),(0,r.kt)("h3",{id:"updatedauthorization"},"UpdatedAuthorization"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"  event UpdatedAuthorization(\n  )\n")))}c.isMDXComponent=!0}}]);